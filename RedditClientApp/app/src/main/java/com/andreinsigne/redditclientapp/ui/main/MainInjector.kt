package com.andreinsigne.redditclientapp.ui.main

import com.andreinsigne.redditclientapp.data.DataInjector
import com.andreinsigne.redditclientapp.manager.ServicesInjector
import com.andreinsigne.redditclientapp.manager.APIManager
import com.andreinsigne.redditclientapp.manager.AuthManager

/**
 * injector interface template for injection of the services and data
 **/
interface MainInjector {
    fun inject(activity: MainActivity)
}


/**
 * Main injector implementation of the protocol template for injection
 **/
class MainImplementation() {

    /**
     * injects the MainActivity generated with the services and the
     * presenter used data
     * @param activity : MainActivity generated by the MVPTemplate
     **/
    fun inject(activity: MainActivity) {
        val data = DataInjector().data
        val services = ServicesInjector(data)
        val presenter = MainPresenterImplementation(activity, services.getAPI(), services.getAuth())
        activity.presenter = presenter
    }
}
